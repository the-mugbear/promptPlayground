{% extends "base.html" %}
{% block title %}Help Topics{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/help.css') }}">
  <style>
    .help-topic:hover {
      background-color: #1a1a1a;
      color: #00FF41;
      text-shadow: 1px 1px 2px #01af26;
    }
    .help-topic:hover a {
      color: #00FF41;
      text-shadow: 1px 1px 2px #01af26;
    }
    /* Divider style between sections */
    .divider {
      margin: 2rem 0 1rem;
      border-top: 2px solid #333;
      text-align: center;
      position: relative;
    }
    .divider::after {
      content: "Developer Topics";
      position: absolute;
      top: -0.8rem;
      left: 50%;
      transform: translateX(-50%);
      background: #000;
      padding: 0 1rem;
      color: #00FF41;
      font-weight: bold;
    }
  </style>
{% endblock %}

{% block content %}
<div class="help-container">
  <div class="help-header">
    <h1>Help Topics</h1>
    <p>Select a topic below to learn how to perform that action.</p>
  </div>
  
  <!-- General Help Topics -->
  <div class="help-topics">
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.create_test_run') }}">How to Create a Test Run</a></h2>
      <p>Learn the steps to configure and execute a test run.</p>
    </div>
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.manage_endpoints') }}">Managing Endpoints</a></h2>
      <p>Instructions on creating, testing, and deleting endpoints.</p>
    </div>
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.using_transformations') }}">Using Transformations</a></h2>
      <p>Guide to applying transformations like ROT13, Base64, and Morse code.</p>
    </div>
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.test_suite_import') }}">Importing Test Suites</a></h2>
      <p>Learn how to import test suites using the JSON format.</p>
    </div>
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.adding_transformers') }}">Adding Transformations</a></h2>
      <p>Guide to adding new transformations and registering them for use in test suite creation.</p>
    </div>
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.results') }}">Interpreting Test Results</a></h2>
      <p>Understand the execution status, response codes, and more.</p>
    </div>
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.citations') }}">Resources and Citations</a></h2>
      <p>Aggregate of research and inspiration used to create prompts.</p>
    </div>
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.plugin') }}">POST Inspector (FireFox plugin)</a></h2>
      <p>Download and install FireFox plugin to help identify POST request fields.</p>
    </div>
  </div>

  <!-- Divider for Developer Topics -->
  <div class="divider"></div>

  <!-- Developer Topics (Debugging Commands) -->
  <div class="help-topics">
    <div class="help-topic card">
      <h2><a href="{{ url_for('help_bp.purge') }}">Debugging Commands: Purge Orphaned Test Cases</a></h2>
      <p>Remove test cases that are no longer associated with any test suite.</p>
    </div>

    <div class="help-topics"> {# Use your theme's card style #}
      <div class="help-topic card">
      <h2>Database Maintenance</h2>
      <p>
          Rebuild the database file, removing unused space and potentially shrinking the file size. 
          This may take some time and will temporarily lock the database.
      </p>
      <form action="{{ url_for('help_bp.vacuum_database') }}" method="POST" onsubmit="return confirm('Are you sure you want to vacuum the database? This might take a while and block other operations.');">
          <button type="submit">Vacuum Database</button>
      </form>
      </div>
    </div>

  </div>
</div>
{% endblock %}
