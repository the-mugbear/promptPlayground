SQL SCRIPT TO ADD  RIGHTS TO user

-- 1. Grant USAGE on the schema (allows the user to access objects within it)
GRANT USAGE ON SCHEMA public TO fuzzy_user;

-- 2. Grant CREATE privilege on the schema (allows the user to create tables, etc.)
GRANT CREATE ON SCHEMA public TO fuzzy_user;

-- 3. Optional but Recommended: Grant data manipulation privileges for the application later
--    Grant privileges on all *existing* tables (if any) in the schema
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO fuzzy_user;
--    Grant privileges on all *future* tables created in the schema
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO fuzzy_user;

--    Grant privileges on all *existing* sequences (needed for auto-incrementing IDs)
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO fuzzy_user;
--    Grant privileges on all *future* sequences
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT USAGE, SELECT ON SEQUENCES TO fuzzy_user;

# GRANT ADDITIONAL PERMISSIONS
-- Grant the ability to connect to the database (might already be set)
GRANT CONNECT ON DATABASE fuzzy_prompts_db TO fuzzy_user;

-- Grant the ability to USE the public schema (necessary to create things in it)
GRANT USAGE ON SCHEMA public TO fuzzy_user;

-- *** Grant the ability to CREATE tables/objects in the public schema (Fixes the immediate error) ***
GRANT CREATE ON SCHEMA public TO fuzzy_user;

-- --- Optional but Recommended for Application Functionality ---

-- Grant standard data manipulation privileges on FUTURE tables created in public schema
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO fuzzy_user;

-- Grant standard privileges on FUTURE sequences (needed for auto-incrementing IDs)
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT USAGE, SELECT ON SEQUENCES TO fuzzy_user;

-- Grant standard privileges on any EXISTING tables/sequences (if any were created manually)
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO fuzzy_user;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO fuzzy_user;